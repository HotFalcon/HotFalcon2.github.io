<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SeatGeek Ticket Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        input[type="text"] {
            width: 95%;
            padding: 10px;
            margin: 5px 0 20px 0;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        button {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #218838;
        }
        textarea {
            width: 95%;
            padding: 10px;
            margin-top: 20px;
            border-radius: 4px;
            border: 1px solid #ccc;
            resize: none;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>SeatGeek Ticket Generator</h2>
    <p>This does not change the barcode and therfore cannot be scanned seccessfully.
        Complete this form below then copy the bookmark code and then create a bookmark in the safari app of this webpage and call it ticket editor, 
        then edit the bookmark, delete the old url, then paste in the
         bookmark code, then save it. Next, open Seatgeek on safari, open the tickets to where you see the section and all the other details,
         then open the bookmark called ticket editor and see that the tickets are different.
    </p>
    <p>Enter the number of tickets:</p>
    <input type="text" id="ticketCount" placeholder="Number of Tickets">

    <p>Enter the values for the elements:</p>
    <input type="text" id="value0" placeholder="Section Number">
    <input type="text" id="value1" placeholder="Row Number">
    <input type="text" id="value2" placeholder="First Seat Number">
    <input type="text" id="value3" placeholder="Section Title (e.g., Lexus Reserved)">

    <button onclick="generateBookmarklet()">Generate Bookmarklet Code</button>
    <textarea id="bookmarkletCode" rows="10" readonly></textarea>
    <button id="copyButton" onclick="copyToClipboard()">Copy to Clipboard</button>
</div>

<script>
function generateBookmarklet() {
    var ticketCount = parseInt(document.getElementById('ticketCount').value);
    var values = [];
    for (var i = 0; i < 4; i++) {
        values.push(document.getElementById('value' + i).value);
    }

    var cases = '';
    for (var i = 0; i < ticketCount; i++) {
        console.log(ticketCount);
        cases += `
        case ${i*3}:
            el.innerText = '${parseInt(values[0])}';
            break;
        case ${i*3 + 1}:
            el.innerText = '${parseInt(values[1])}';
            break;
        case ${i*3 + 2}:
            el.innerText = '${parseInt(values[2])+i}';
            break;
        `;
    }

    var bookmarkletCode = `
javascript:(function(){
    var elements500 = document.querySelectorAll('p[data-uniform-id="typography-subtitle"].presenters__StyledTicketMetaValue-sc-600a2c67-12');
    elements500.forEach(function(el, index) {
        switch(index) {${cases}
            default:
                el.innerText = 'Default Value';
        }
    });

    var customTextElements = document.querySelectorAll('div.presenters__ExtendedListItem-sc-600a2c67-10.ijQLYv div.ExtendedTicketMeta__ExtendedTicketMetaValue-sc-3f2c6a14-2.dlyvLS');
    customTextElements.forEach(function(el) {
        if (el.innerText !== 'MB$A-List Discount') {
            el.innerText = '${values[3]}';
        }
    });
})();`;

    document.getElementById('bookmarkletCode').value = bookmarkletCode.trim();
}

function copyToClipboard() {
    var copyText = document.getElementById("bookmarkletCode");
    copyText.select();
    copyText.setSelectionRange(0, 99999); // For mobile devices

    document.execCommand("copy");

    alert("Bookmarklet code copied to clipboard!");
}
</script>

</body>
</html>
